void 0===jQuery.fn.minicolors&&jQuery&&function(a){function b(b,c){var d=a('<span class="minicolors" />'),e=a.minicolors.defaultSettings;b.data("minicolors-initialized")||(c=a.extend(!0,{},e,c),d.addClass("minicolors-theme-"+c.theme).addClass("minicolors-swatch-position-"+c.swatchPosition).toggleClass("minicolors-swatch-left","left"===c.swatchPosition).toggleClass("minicolors-with-opacity",c.opacity),void 0!==c.position&&a.each(c.position.split(" "),function(){d.addClass("minicolors-position-"+this)}),b.addClass("minicolors-input").data("minicolors-initialized",!0).data("minicolors-settings",c).prop("size",7).prop("maxlength",7).wrap(d).after('<span class="minicolors-panel minicolors-slider-'+c.control+'"><span class="minicolors-slider"><span class="minicolors-picker"></span></span><span class="minicolors-opacity-slider"><span class="minicolors-picker"></span></span><span class="minicolors-grid"><span class="minicolors-grid-inner"></span><span class="minicolors-picker"><span></span></span></span></span>'),b.parent().find(".minicolors-panel").on("selectstart",function(){return!1}).end(),"left"===c.swatchPosition?b.before('<span class="minicolors-swatch"><span></span></span>'):b.after('<span class="minicolors-swatch"><span></span></span>'),c.textfield||b.addClass("minicolors-hidden"),c.inline&&b.parent().addClass("minicolors-inline"),i(b))}function c(a){var b=a.parent();a.removeData("minicolors-initialized").removeData("minicolors-settings").removeProp("size").removeProp("maxlength").removeClass("minicolors-input"),b.before(a).remove()}function d(a){i(a)}function e(a){var b=a.parent(),c=b.find(".minicolors-panel"),d=a.data("minicolors-settings");!a.data("minicolors-initialized")||a.prop("disabled")||b.hasClass("minicolors-focus")||(f(),b.addClass("minicolors-focus"),c.stop(!0,!0).fadeIn(d.showSpeed,function(){d.show&&d.show.call(a)}))}function f(){a(".minicolors-input").each(function(){var b=a(this),c=b.data("minicolors-settings"),d=b.parent();c.inline||d.find(".minicolors-panel").fadeOut(c.hideSpeed,function(){d.hasClass("minicolors-focus")&&c.hide&&c.hide.call(b),d.removeClass("minicolors-focus")})})}function g(a,b,c){var d,e,f,g,i=a.parents(".minicolors").find(".minicolors-input"),j=i.data("minicolors-settings"),k=a.find("[class$=-picker]"),l=a.offset().left,m=a.offset().top,n=Math.round(b.pageX-l),o=Math.round(b.pageY-m),p=c?j.animationSpeed:0;b.originalEvent.changedTouches&&(n=b.originalEvent.changedTouches[0].pageX-l,o=b.originalEvent.changedTouches[0].pageY-m),0>n&&(n=0),0>o&&(o=0),n>a.width()&&(n=a.width()),o>a.height()&&(o=a.height()),a.parent().is(".minicolors-slider-wheel")&&k.parent().is(".minicolors-grid")&&(d=75-n,e=75-o,f=Math.sqrt(d*d+e*e),g=Math.atan2(e,d),0>g&&(g+=2*Math.PI),f>75&&(f=75,n=75-75*Math.cos(g),o=75-75*Math.sin(g)),n=Math.round(n),o=Math.round(o)),a.is(".minicolors-grid")?k.stop(!0).animate({top:o+"px",left:n+"px"},p,j.animationEasing,function(){h(i)}):k.stop(!0).animate({top:o+"px"},p,j.animationEasing,function(){h(i)})}function h(a){function b(a,b){var c,d;return a.length&&b?(c=a.offset().left,d=a.offset().top,{x:c-b.offset().left+a.outerWidth()/2,y:d-b.offset().top+a.outerHeight()/2}):null}var c,d,e,f,g,h,i,j,k,m=a.parent(),o=a.data("minicolors-settings"),p=(m.find(".minicolors-panel"),m.find(".minicolors-swatch")),r=m.find(".minicolors-grid"),s=m.find(".minicolors-slider"),t=m.find(".minicolors-opacity-slider"),u=r.find("[class$=-picker]"),v=s.find("[class$=-picker]"),w=t.find("[class$=-picker]"),x=b(u,r),y=b(v,s),z=b(w,t);switch(o.control){case"wheel":h=r.width()/2-x.x,i=r.height()/2-x.y,j=Math.sqrt(h*h+i*i),k=Math.atan2(i,h),0>k&&(k+=2*Math.PI),j>75&&(j=75,x.x=69-75*Math.cos(k),x.y=69-75*Math.sin(k)),d=n(j/.75,0,100),c=n(180*k/Math.PI,0,360),e=n(100-Math.floor(y.y*(100/s.height())),0,100),g=q({h:c,s:d,b:e}),s.css("backgroundColor",q({h:c,s:d,b:100}));break;case"saturation":c=n(parseInt(x.x*(360/r.width())),0,360),d=n(100-Math.floor(y.y*(100/s.height())),0,100),e=n(100-Math.floor(x.y*(100/r.height())),0,100),g=q({h:c,s:d,b:e}),s.css("backgroundColor",q({h:c,s:100,b:e})),m.find(".minicolors-grid-inner").css("opacity",d/100);break;case"brightness":c=n(parseInt(x.x*(360/r.width())),0,360),d=n(100-Math.floor(x.y*(100/r.height())),0,100),e=n(100-Math.floor(y.y*(100/s.height())),0,100),g=q({h:c,s:d,b:e}),s.css("backgroundColor",q({h:c,s:d,b:100})),m.find(".minicolors-grid-inner").css("opacity",1-e/100);break;default:c=n(360-parseInt(y.y*(360/s.height())),0,360),d=n(Math.floor(x.x*(100/r.width())),0,100),e=n(100-Math.floor(x.y*(100/r.height())),0,100),g=q({h:c,s:d,b:e}),r.css("backgroundColor",q({h:c,s:100,b:100}))}f=o.opacity?parseFloat(1-z.y/t.height()).toFixed(2):1,a.val(l(g,o.letterCase)),o.opacity&&a.attr("data-opacity",f),p.find("SPAN").css({backgroundColor:g,opacity:f}),g+f!==a.data("minicolors-lastChange")&&(a.data("minicolors-lastChange",g+f),o.change&&o.change.call(a,g,f))}function i(a,b){var c,d,e,f,g,h,i,j=a.parent(),k=a.data("minicolors-settings"),o=j.find(".minicolors-swatch"),p=j.find(".minicolors-grid"),s=j.find(".minicolors-slider"),t=j.find(".minicolors-opacity-slider"),u=p.find("[class$=-picker]"),v=s.find("[class$=-picker]"),w=t.find("[class$=-picker]");switch(c=l(m(a.val(),!0),k.letterCase),c||(c=l(m(k.defaultValue,!0))),d=r(c),b||a.val(c),k.opacity&&(e=""===a.attr("data-opacity")?1:n(parseFloat(a.attr("data-opacity")).toFixed(2),0,1),a.attr("data-opacity",e),o.find("SPAN").css("opacity",e),g=n(t.height()-t.height()*e,0,t.height()),w.css("top",g+"px")),o.find("SPAN").css("backgroundColor",c),k.control){case"wheel":h=n(Math.ceil(.75*d.s),0,p.height()/2),i=d.h*Math.PI/180,f=n(75-Math.cos(i)*h,0,p.width()),g=n(75-Math.sin(i)*h,0,p.height()),u.css({top:g+"px",left:f+"px"}),g=150-d.b/(100/p.height()),""===c&&(g=0),v.css("top",g+"px"),s.css("backgroundColor",q({h:d.h,s:d.s,b:100}));break;case"saturation":f=n(5*d.h/12,0,150),g=n(p.height()-Math.ceil(d.b/(100/p.height())),0,p.height()),u.css({top:g+"px",left:f+"px"}),g=n(s.height()-d.s*(s.height()/100),0,s.height()),v.css("top",g+"px"),s.css("backgroundColor",q({h:d.h,s:100,b:d.b})),j.find(".minicolors-grid-inner").css("opacity",d.s/100);break;case"brightness":f=n(5*d.h/12,0,150),g=n(p.height()-Math.ceil(d.s/(100/p.height())),0,p.height()),u.css({top:g+"px",left:f+"px"}),g=n(s.height()-d.b*(s.height()/100),0,s.height()),v.css("top",g+"px"),s.css("backgroundColor",q({h:d.h,s:d.s,b:100})),j.find(".minicolors-grid-inner").css("opacity",1-d.b/100);break;default:f=n(Math.ceil(d.s/(100/p.width())),0,p.width()),g=n(p.height()-Math.ceil(d.b/(100/p.height())),0,p.height()),u.css({top:g+"px",left:f+"px"}),g=n(s.height()-d.h/(360/s.height()),0,s.height()),v.css("top",g+"px"),p.css("backgroundColor",q({h:d.h,s:100,b:100}))}}function j(b){var c=m(a(b).val(),!0),d=t(c),e=a(b).attr("data-opacity");return d?(void 0!==e&&a.extend(d,{a:parseFloat(e)}),d):null}function k(b,c){var d=m(a(b).val(),!0),e=t(d),f=a(b).attr("data-opacity");return e?(void 0===f&&(f=1),c?"rgba("+e.r+", "+e.g+", "+e.b+", "+parseFloat(f)+")":"rgb("+e.r+", "+e.g+", "+e.b+")"):null}function l(a,b){return"uppercase"===b?a.toUpperCase():a.toLowerCase()}function m(a,b){return a=a.replace(/[^A-F0-9]/gi,""),3!==a.length&&6!==a.length?"":(3===a.length&&b&&(a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]),"#"+a)}function n(a,b,c){return b>a&&(a=b),a>c&&(a=c),a}function o(a){var b={},c=Math.round(a.h),d=Math.round(255*a.s/100),e=Math.round(255*a.b/100);if(0===d)b.r=b.g=b.b=e;else{var f=e,g=(255-d)*e/255,h=c%60*(f-g)/60;360===c&&(c=0),60>c?(b.r=f,b.b=g,b.g=g+h):120>c?(b.g=f,b.b=g,b.r=f-h):180>c?(b.g=f,b.r=g,b.b=g+h):240>c?(b.b=f,b.r=g,b.g=f-h):300>c?(b.b=f,b.g=g,b.r=g+h):360>c?(b.r=f,b.g=g,b.b=f-h):(b.r=0,b.g=0,b.b=0)}return{r:Math.round(b.r),g:Math.round(b.g),b:Math.round(b.b)}}function p(b){var c=[b.r.toString(16),b.g.toString(16),b.b.toString(16)];return a.each(c,function(a,b){1===b.length&&(c[a]="0"+b)}),"#"+c.join("")}function q(a){return p(o(a))}function r(a){var b=s(t(a));return 0===b.s&&(b.h=360),b}function s(a){var b={h:0,s:0,b:0},c=Math.min(a.r,a.g,a.b),d=Math.max(a.r,a.g,a.b),e=d-c;return b.b=d,b.s=0!==d?255*e/d:0,b.h=0!==b.s?a.r===d?(a.g-a.b)/e:a.g===d?2+(a.b-a.r)/e:4+(a.r-a.g)/e:-1,b.h*=60,b.h<0&&(b.h+=360),b.s*=100/255,b.b*=100/255,b}function t(a){return a=parseInt(a.indexOf("#")>-1?a.substring(1):a,16),{r:a>>16,g:(65280&a)>>8,b:255&a}}a.minicolors={defaultSettings:{animationSpeed:100,animationEasing:"swing",change:null,control:"hue",defaultValue:"",hide:null,hideSpeed:100,inline:!1,letterCase:"lowercase",opacity:!1,position:"default",show:null,showSpeed:100,swatchPosition:"left",textfield:!0,theme:"default"}},a.extend(a.fn,{minicolors:function(e,f){switch(e){case"destroy":return a(this).each(function(){c(a(this))}),a(this);case"opacity":return void 0===f?a(this).attr("data-opacity"):(a(this).each(function(){d(a(this).attr("data-opacity",f))}),a(this));case"rgbObject":return j(a(this),"rgbaObject"===e);case"rgbString":case"rgbaString":return k(a(this),"rgbaString"===e);case"settings":return void 0===f?a(this).data("minicolors-settings"):(a(this).each(function(){var b=a(this).data("minicolors-settings")||{};c(a(this)),a(this).minicolors(a.extend(!0,b,f))}),a(this));case"value":return void 0===f?a(this).val():(a(this).each(function(){d(a(this).val(f))}),a(this));case"create":default:return"create"!==e&&(f=e),a(this).each(function(){b(a(this),f)}),a(this)}}}),a(document).on("mousedown.minicolors touchstart.minicolors",function(b){a(b.target).parents().add(b.target).hasClass("minicolors")||f()}).on("mousedown.minicolors touchstart.minicolors",".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider",function(b){var c=a(this);b.preventDefault(),a(document).data("minicolors-target",c),g(c,b,!0)}).on("mousemove.minicolors touchmove.minicolors",function(b){var c=a(document).data("minicolors-target");c&&g(c,b)}).on("mouseup.minicolors touchend.minicolors",function(){a(this).removeData("minicolors-target")}).on("mousedown.minicolors touchstart.minicolors",".minicolors-swatch",function(){var b=a(this).parent().find(".minicolors-input");b.parent().hasClass("minicolors-focus")?f(b):e(b)}).on("focus.minicolors",".minicolors-input",function(){var b=a(this);b.data("minicolors-initialized")&&e(b)}).on("blur.minicolors",".minicolors-input",function(){var b=a(this),c=b.data("minicolors-settings");b.data("minicolors-initialized")&&(b.val(m(b.val(),!0)),""===b.val()&&b.val(m(c.defaultValue,!0)),b.val(l(b.val(),c.letterCase)),f(b))}).on("keydown.minicolors",".minicolors-input",function(b){var c=a(this);if(c.data("minicolors-initialized"))switch(b.keyCode){case 9:f();break;case 27:f(),c.blur()}}).on("keyup.minicolors",".minicolors-input",function(){var b=a(this);b.data("minicolors-initialized")&&i(b,!0)}).on("paste.minicolors",".minicolors-input",function(){var b=a(this);b.data("minicolors-initialized")&&setTimeout(function(){i(b,!0)},1)})}(jQuery);